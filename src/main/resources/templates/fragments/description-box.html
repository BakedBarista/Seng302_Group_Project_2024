<!DOCTYPE html>
<html lang="en">
    <head th:fragment="headerfiles">
        <meta charset="UTF-8">
    </head>
    <body>
        <div th:fragment="description-box-with-char-count">
            <label for="description"> Garden Description: </label>
            <input type="text" class="form-control" id="description" placeholder="Description"
                   th:name="description" th:value="${garden.description}" data-cy="size" autofocus
                    th:classappend="${#fields.hasErrors('description')} ? 'error-field' : ''">

            <div class = "flex-box">
                <div th:if="${profanity != null}" style="color: red;"><span th:text="${profanity}"></span></div>
                <div class = "errorMessage" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
                <div class = "justify-content-end">
                    <p class = "numberOfCharactersText" id = "numberOfCharactersText"></p>
                </div>
            </div>

            <script>
                const numberOfCharactersText = document.getElementById("numberOfCharactersText");
                const descriptionTextBox = document.getElementById("description");
                numberOfCharactersText.innerText = descriptionTextBox.value.length + "/512";

                descriptionTextBox.addEventListener("input", function () {
                    console.log(descriptionTextBox.value.length);
                    numberOfCharactersText.innerText = descriptionTextBox.value.length + "/512";
                })
            </script>
        </div>
    </body>
</html>