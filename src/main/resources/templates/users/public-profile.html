<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <meta http-equiv="Content-Type" context="text/html; charset=UTF-8" />
    <title th:if="${currentUser == userId}">My Public Profile | Pollinat*r</title>
    <title th:if="${currentUser != userId}">[[${name}]] | Pollinat*r</title>
    <!-- This needs to be here for Bootstrap and general CSS imports -->
    <th:block th:insert="~{fragments/general.html :: headerfiles}"></th:block>
</head>
<body>
<nav th:replace="~{fragments/navbar :: navbar}"></nav>
<main class="main-container" style = "margin-top: 10%;">
    <div class="card border-top-0">
        <p class="end-0 bottom-0 m-2 mt-3 position-absolute">
            <a th:if="${currentUser == userId}" th:href="@{edit-public-profile}" class="btn btn-primary">Edit</a>
        </p>
        <img
                class="card-img-top img-fluid fixed-height mb-4"
                th:src="@{'/users/' + ${userId} + '/profile-banner'}"
                alt="profile banner"
        />
        <img
                class="public-profile-picture position-absolute top-0 end-0 public-profile-picture-padding me-2"
                th:src="@{'/users/' + ${userId} + '/profile-picture'}"
                width="180"
                height="180"
                alt="profile picture"
        />
        <div class="m-4 mt-0">
            <div class="d-flex flex-column">
                <span th:if="${name.length() >= 12}"><span class="d-sm-none d-flex mt-5"></span></span>
                <h2 class="mb-3">[[${name}]]</h2>
                <h5 class="mb-1 about-me">About me...</h5>
                <p>[[${description}]]</p>
            </div>
        </div>

        <p class="m-4 p-2 mb-0 pe-1 d-flex justify-content-end">
            <a th:href="@{edit-public-profile}" class="btn btn-primary">Edit</a>
        </p>

        <div class="card m-4 p-4 mt-1 border-0 rounded-3 shadow-sm" style="background-color: #F9EFCC">
            <h4>My Favourite Garden</h4>
            <div class="card d-flex flex-wrap flex-md-nowrap shadow-sm bg-primary-temp" style="padding: 0;">
                <div class="row w-100 py-3">
                    <div class="col-12 col-md-6 object-fit-cover ps-4" style="height: 180px;">
                        <img
                                class="border-0 rounded-3 shadow-sm"
                                th:src="@{'/plants/10/plant-image'}"
                                style="width: 100%; height: 100%; object-fit: cover;"
                                alt="profile picture"
                        />
                    </div>
                    <!-- Text Column -->
                    <div class="col-12 col-md-6   d-flex flex-column justify-content-center p-3 text-start" >
                        <h5 class="pt-2">Blue Oasis</h5>
                        <div>
                            <div class="d-flex align-items-center mb-2">
                                <img th:src="@{/icons/location-04-stroke-rounded.svg}" alt="" width="20" height="25" />
                                <p class="mb-0 mx-2">Christchurch NZ</p>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <img th:src="@{/icons/aspect-ratio-stroke-rounded.svg}" alt="" width="20" height="25" />
                                <p class="mb-0 mx-2">2 m<sup>2</sup></p>
                            </div>
                            <div class="d-flex">
                                <strong>Description: </strong>
                                <div class="overflow-y-auto" style="max-height: 40px;">
                                    <p class="mb-0 mx-2">
                                        Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah Blah
                                    </p>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="card m-4 p-4 mt-1 border-0 rounded-3 shadow-sm" style="background-color: #F9EFCC">
            <h4>My Favourite Plants...</h4>
            <div class="ms-5 me-5">
                <div class="d-flex flex-wrap flex-md-nowrap">
                    <!-- for each on favourite plants-->
                    <!-- non-empty card -->
                    <div class="card p-2 me-3 mb-3 border-0 rounded-3 d-flex shadow-sm public-profile-plant-card bg-primary-temp">
                        <img
                                class="mx-auto d-block pt-1"
                                th:src="@{'/plants/10/plant-image'}"
                                width="120"
                                height="120"
                                alt="profile picture"
                        />
                        <h4 class="pt-2 ps-2">Banana</h4>
                    </div>

                    <!-- empty card -->
                    <div class="card p-2 me-3 mb-3 border-0 rounded-3 shadow-sm public-profile-plant-card justify-content-center card-wiggle bg-primary-grey" onclick="openPlantSelectorModal(1)">
                        <img th:src="@{/icons/create-mustard-grey.svg}" class="mx-auto d-block" aria-hidden="true" alt="empty-favourite" width="50" height="50" />
                    </div>

                    <!-- empty card -->
                    <div class="card p-2 me-3 mb-3 border-0 rounded-3 shadow-sm public-profile-plant-card justify-content-center card-wiggle bg-primary-grey" onclick="openPlantSelectorModal(1)">
                        <img th:src="@{/icons/create-mustard-grey.svg}" class="mx-auto d-block" aria-hidden="true" alt="empty-favourite" width="50" height="50" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<th:block th:insert="~{fragments/general.html :: bs-scripts}"></th:block>
</body>
</html>
