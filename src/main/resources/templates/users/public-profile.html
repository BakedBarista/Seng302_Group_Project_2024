<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <meta http-equiv="Content-Type" context="text/html; charset=UTF-8"/>
    <title th:if="${currentUser == userId}">My Public Profile | Pollinat*r</title>
    <title th:if="${currentUser != userId}">[[${name}]] | Pollinat*r</title>
    <!-- This needs to be here for Bootstrap and general CSS imports -->
    <th:block th:insert="~{fragments/general.html :: headerfiles}"></th:block>
</head>
<body>
<nav th:replace="~{fragments/navbar :: navbar}"></nav>
<main class="main-container" style="margin-top: 10%;">
    <div class="card border-top-0">
        <img
                class="card-img-top img-fluid fixed-height mb-4"
                th:src="@{'/users/' + ${userId} + '/profile-banner'}"
                alt="profile banner"
        />
        <img
                class="public-profile-picture position-absolute top-0 end-0 public-profile-picture-padding me-2"
                th:src="@{'/users/' + ${userId} + '/profile-picture'}"
                width="180"
                height="180"
                alt="profile picture"
        />
        <div class="m-4 mt-0 d-flex flex-column">
            <div class="d-flex align-items-center">
                <h2>[[${name}]]</h2>
            </div>
            <div th:if="${birthFlower}" class="row ms-0">
                <div class="d-flex align-items-center mb-3 badge bg-danger-subtle col-auto text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                         color="currentColor" fill="none">
                        <path d="M14.4999 12.5C14.4999 13.8807 13.3807 15 11.9999 15C10.6192 15 9.49994 13.8807 9.49994 12.5C9.49994 11.1193 10.6192 10 11.9999 10C13.3807 10 14.4999 11.1193 14.4999 12.5Z"
                              stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M11.9999 3C14.2091 3 15.998 4.91739 15.998 7.12653C16.3182 7.04393 16.6539 7 16.9999 7C19.2091 7 20.9999 8.79086 20.9999 11C20.9999 12.5964 20.0647 13.9745 18.7122 14.616C19.2071 15.2818 19.4999 16.1067 19.4999 17C19.4999 19.2091 17.7091 21 15.4999 21C13.9939 21 12.6823 20.1677 11.9999 18.938C11.3176 20.1677 10.006 21 8.49994 21C6.2908 21 4.49994 19.2091 4.49994 17C4.49994 16.1067 4.79277 15.2818 5.28767 14.616C3.93518 13.9745 2.99994 12.5964 2.99994 11C2.99994 8.79086 4.7908 7 6.99994 7C7.34595 7 7.68169 7.04393 8.0019 7.12652C8.0019 4.91738 9.7908 3 11.9999 3Z"
                              stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                    </svg>
                    <h5 class="mx-1 mb-0 text-white" th:text="${birthFlower}"></h5>
                </div>
            </div>

            <h5 class="mb-1 about-me">About me...</h5>
            <p>[[${description}]]</p>
        </div>

        <p class="m-4 p-2 mb-0 pe-1 d-flex justify-content-end">
            <a th:href="@{edit-public-profile}" th:if="${currentUser == userId}" class="btn btn-primary">Edit
                Profile</a>
        </p>

        <div class="card m-4 p-4 mt-1 border-0 rounded-3 shadow-sm" style="background-color: #F9EFCC">
            <h4>My Favourite Garden</h4>
            <div th:if="${favouriteGarden == null}" class="text-center my-5">
                <p>No Favourite Garden Selected</p>
            </div>
            <th:block th:if="${favouriteGarden != null}"
                      th:insert="~{fragments/favourite-garden.html :: favourite-garden}"></th:block>
        </div>

        <div class="card m-4 p-4 mt-1 border-0 rounded-3 shadow-sm" style="background-color: #F9EFCC">
            <h4>My Favourite Plants...</h4>
            <th::block th:insert="~{fragments/favourite-plants.html :: favourite-plants}"></th::block>
        </div>
    </div>
</main>
<th:block th:insert="~{fragments/general.html :: bs-scripts}"></th:block>
</body>
</html>